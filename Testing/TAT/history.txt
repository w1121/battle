14.09.2004
Первая более-менее работоспособная версия. Начало тестирования.

20.09.2004
Баг в atsgen - при выводе поля dimension для членов структуры использован формат
%d вместо %s. Проявляется при непустом dimension. Исправлено.
Баг в cgtc - генерация функций TAT_Free_* некорректна. Результат неудачной
попытки избавиться от пустого цикла по массиву, элементы которого заведомо не
нуждаются в высвобождении динамической памяти. Восстановлена прежняя реализация.
Исправлено.

22.09.2004
Реализация поддержки связанных списков в cgtc.

24.09.2004
Баг в cgtc - при добавлении элемента в список в функциях копирования TAT_Copy_*
выделялся неверный объем памяти, что приводило к сбою. Исправлено.
Изменение в cgtc - для динамических массивов введена проверка на нулевой размер,
при этом память выделяется только для массива ненулевого размера.

26.09.2004
Изменение правил записи поля dimension - для динамического массива указывается
"var", для связанного списка - "list". Ключевые слова чувствительны к регистру.

28.09.2004
Для активных event'ов убрано освобождение параметров event'а после его передачи.
Теперь освобождение динамической памяти должно выполняться во wrapper'е.
Пассивные event'ы по-прежнему освобождаются в коде теста.

29.09.2004
Генерируемый cgtc шаблон wrapper'а теперь содержит вызовы функций, освобождающих
динамическую память. Вызов функций выполняется из функции sendMess.
Баг в cgtc - пустой массив типа (: :) не распознается, генерируется неверный
код. Причина - процедура isASN1 не распознает [list STRUCT] и [list ARRAY] как
запись массивов и структур в ASN.1. Исправлено.

30.09.2004
Изменение в baselib - из структур TAT_DATATYPE_DEF и TAT_MEMBER_DEF за
ненадобностью изъято поле size_t is_array.
Изменение в cgtc - в процедуре genAssData при выделении памяти для строки
(char *) вместо численного значения длины строки подставляется функция strlen(),
что позволяет использовать в записи ASN.1 предопределенные строковые константы.

6.10.2004
Изменение в cgtc - в формируемых файлах многие директивы #include избыточны -
одни и те же файлы включаются по нескольку раз. Лишние директивы удалены.
Изменение в baselib и atsgen - убрано преобразование имен сигналов к uppercase
(необратимое преобразование). Изменения:
baselib -> xmlconf.c -> tat_ParseSignal, убрано StrToUpper
baselib -> confproc.c -> CFG_GetSignalID, заменено StrUpCopy на strcpy
atsgen -> sigopt.c -> MSC_FillMessageMap, убрано StrToUpper

8.10.2004
Начало работы над интеграцией TAT и Telelogic Tau SDL Suite.

11.10.2004
В cgtc добавлена поддержка типов данных, используемых в Telelogic Tau SDL Suite.
Для указания таких типов данных атрибут paramstype тега <TYPEDEF> должен принять
значение "SDL". Также должны быть включены заголовочные файлы SDL системы,
содержащие описания типов данных.

12.10.2004
Добавлена генерация wrapper для SDL системы. Получаемый wrapper не нуждается в
ручной доработке при следующих условиях:
- Не используется временная спецификация
- Используется только 2 instances (model и env)

15.10.2004
Добавлена поддержка временной спецификации. Приращение модельного времени
производится в функции xInEnv вызовом функции SDL_Tick при отсутствии сигналов
на входе системы. Реализация по умолчанию рассчитана на работу с целочисленным
временем; поддержка вещественного времени на данный момент требует ручной правки
функций SDL_Clock и SDL_Tick.

18.10.2004
При попытке реализации вещественного времени выяснилось, что оно вообще не
работает в cgtc. Обеспечена корректная обработка времени SDL системы в функции
SDL_Tick. При использовании целочисленного времени производится округление
времени SDL системы до ближайшего целого.
Ошибки вызваны неверной реализацией протоколирующих модулей (без учета define
TAT_FLOAT_TIME). Требуется исправление (#ifdef TAT_FLOAT_TIME и т. д.)
Исправлены модули txtlog и mprlog.

19.10.2004
Убрано приведение имен instances к верхнему регистру. Изменения в confproc.c и
xmlconf.c.
Изменение в cgtc - добавлена возможность указывать сигнал, передаваемый SDL
системе для ее сброса. Сигнал должен быть описан в конфигурации теста. Сигнал
сброса не может иметь параметров.

20.10.2004
Мелкие изменения в testkern.c и cgtc для ускорения работы тестового кода.

27.10.2004
Начало работы над интеграцией TAT и Telelogic Tau G2.

28.10.2004
Интерфейс кода, получаемого на выходе Tau G2, почти полностью совпадает с
Tau G1. Изменения в Tau G2:
1. xDefaultSignalPrio -> xDefaultPrioSignal
2. yPDef -> ySignalPar
Для получения wrapper'а для G1 или G2 нужно указать номер версии параметром
ключа командной строки -sdl. Ключ -sdl без параметра соответствует G1.

05.11.2004
Реализована генерация wrapper для SDL системы с окружением, состоящим из
нескольких instances. SDL система адресует instances окружения по их PId. Как
она эти PId получает - ее проблема. Ключ -env указывает имя instance,
принимающего сигналы, которые система передает в окружение без указания
конкретного PId. Если ключ -env не указан, cgtc выбирает один из instances типа
env.

09.11.2004
Изменения в генерации функций TAT_Ass_* и TAT_Cmp_*. Теперь в функции передается
параметр типа TAT_TEST_INSTANCE*, позволяющий получить доступ из функций к
переменным testcase. Также все операции производятся над выражениями,
обработанными процедурой TCommProc::changeExpr. Это позволяет использовать в
записи составных типов данных в MSC имена переменных, например (.1,1,my_var.),
где my_var - переменная. Также изменилось расположение этих функций - теперь они
находятся в конце заголовка testcase, перед state-функциями.

12.11.2004
Убрана промежуточная очередь в SDL wrapper. Теперь функция *_sendMess передает
сигналы в SDL систему при помощи функции SDL_Output. При каждой передаче сигнала
счетчик SDL_Output_Count увеличивается, перед входом в WrapRun он обнуляется.
Если за время выполнения WrapRun в SDL систему не было передано сигналов,
вызывается SDL_Tick для приращения модельного времени.

5.5.2005
В cgtc добавлена возможность задания предопределенных типов данных. Атрибут
paramstype тега TYPEDEF может принимать значение PREDEF, которое говорит о том,
что этот тип уже где-то определен. Генерация описания типа при этом не
производится, однако тип должен соответствовать внутреннему представлению TAT.
Эта опция полезна при описании структур Win32 API и им подобных для удобства
использования таких структур в виде параметров сигналов (ASN.1).
Убран баг в cgtc - не работало присвоение параметров принятого сигнала
переменным составных типов.

12.5.2005
В cgtc добавлена поддержка относительной временной спецификации. В структуру
TAT_TEST_INSTANCE (testkern.h) добавлено поле TAT_TIME_TYPE lastEvent,
содержащее время последнего события. В процедуре _setLabel производится
обновление этого поля. Процедуры _ChecktimeCondSt и _CheckTimeCondCl переделаны.
Теперь при наличии ключевого поля REL во временной спецификации события время не
игнорируется, а проверяется разность времени и lastEvent.
Note: Временная спецификация по умолчанию - {REL 0 INF} - приводит к появлению в
коде бессмысленной проверки на >=0. Вообще-то это не мешает.

16.3.2006
GUI вроде бы работает.

23.3.2006
Изменение в Tools&Pipes - теперь вместо одной кнопки Add Tool есть отдельные
кнопки Add Tool и Add Pipe. Панели свойств для Tool и Pipe также теперь
отличаются. Так что создать tool и переделать его в pipe больше нельзя - нефиг,
так структура XML меньше ошибок допускает.

24.3.2006
Теперь можно не задавать toolconfig для EXEC, даже если у выбранного тула есть
конфиги. Но можно не значит нужно, конфигурационный скрипт имеет полное право
выдать ошибку при пустом toolconfig.
Вернул кнопки Run для Pipe, Run и Build для Test Case. Можно запускать цепочки
по одной.

31.3.2006
В свойствах DATAOUT по кнопке Browse вместо диалога Save появлялся диалог Open.
Пофиксено.

7.4.2006
Переделаны конфигурационные скрипты, убраны задержки на 50 мс и проистекающие
из этого косяки при быстром перемещении по дереву, код переписан для более
полного использования фич нового IDE. В IDE добавлена процедура
::Commands::browseDirectory, которая используется конфигурационными скриптами.

25.05.2006
Найден и пофиксен баг в IDE - просто мелкая, но поганая опечатка.

26.06.2006
В IDE не было типа inout для сигналов - только in и out. Пофиксено.