
/* SKELETON for env functions */
/* Program generated by Cadvanced 6.2.0 9879 */
#define XSCT_CADVANCED

#define SCT_VERSION_6_2
#include "scttypes.h"
#ifdef XINCLUDE_HS_FILE
#include "Model.hs"
#endif
#ifdef XENV_INC
#include XENV_INC
#endif
#include "Model.ifc"


#ifndef XNOGLOBALNODENUMBER
/*---+---------------------------------------------------------------
     xGlobalNodeNumber  extern
-------------------------------------------------------------------*/
#ifndef XENV_NODENUMBER
#define XENV_NODENUMBER return 1;
#endif

extern int xGlobalNodeNumber(void)
{
  /* Assign a unique global system Id to each SDL system in a cluster of systems. */
  XENV_NODENUMBER
}
#endif


#ifndef XNOINITENV
/*---+---------------------------------------------------------------
     xInitEnv  extern
-------------------------------------------------------------------*/
#ifndef XENV_INIT
#define XENV_INIT
#endif

extern void xInitEnv(void)
{
  /* Code to initialize your SDL-system environment may be inserted here */
  XENV_INIT

#ifdef XTRACE
  xPrintString("xInitEnv called\n");
#endif
}
#endif


#ifndef XNOCLOSEENV
/*---+---------------------------------------------------------------
     xCloseEnv  extern
-------------------------------------------------------------------*/
#ifndef XENV_CLOSE
#define XENV_CLOSE
#endif

extern void xCloseEnv(void)
{
  /* Code to bring down the environment in a controlled manner
     may be inserted here. */
  XENV_CLOSE

#ifdef XTRACE
  xPrintString("xCloseEnv called\n");
#endif
}
#endif


/*---+---------------------------------------------------------------
     Macros for xOutEnv
-------------------------------------------------------------------*/
#ifndef OUT_LOCAL_VARIABLES
#define OUT_LOCAL_VARIABLES
#endif

#ifndef IF_OUT_SIGNAL
#define IF_OUT_SIGNAL(SIGNAL_NAME, SIGNAL_NAME_STRING) \
  if (((*SignalOut)->NameNode) == SIGNAL_NAME) {
#define END_IF_OUT_SIGNAL(SIGNAL_NAME, SIGNAL_NAME_STRING) \
  }
#endif

#ifndef OUT_SIGNAL1
#define OUT_SIGNAL1(SIGNAL_NAME, SIGNAL_NAME_STRING)
#endif

#ifndef OUT_SIGNAL2
#define OUT_SIGNAL2(SIGNAL_NAME, SIGNAL_NAME_STRING)
#endif

#ifndef XENV_ENC
#define XENV_ENC(stmt) stmt
#endif

#ifndef XENV_OUT_START
#define XENV_OUT_START
#endif

#ifndef RELEASE_SIGNAL
#define RELEASE_SIGNAL   xReleaseSignal(SignalOut); return;
#endif


/*---+---------------------------------------------------------------
     xOutEnv  extern
-------------------------------------------------------------------*/
extern void xOutEnv( xSignalNode *SignalOut )
{
  OUT_LOCAL_VARIABLES

#ifdef XTRACE
#ifdef XIDNAMES
  char  Temp[100];
  sprintf(Temp, "xOutEnv:  %s has been received by env\n",
          (*SignalOut)->NameNode->Name );
  xPrintString(Temp);
#else
  xPrintString("xOutEnv:  One signal has been received by env\n");
#endif
#endif

  XENV_OUT_START


  /* Signals going to the env via the channel StSimInt */

    /* Signal FinishSimulation */
    IF_OUT_SIGNAL(FinishSimulation,"FinishSimulation")
      OUT_SIGNAL1(FinishSimulation,"FinishSimulation")
#ifdef OUT_SIGNAL_PAR
      OUT_SIGNAL_PAR(Param1,yPDef_FinishSimulation,&xSrtR_SDL_Integer)
#else
      OUT_SIGNAL_TYPE_Integer(Param1,yPDef_FinishSimulation)
#endif
#ifdef OUT_SIGNAL_PAR
      OUT_SIGNAL_PAR(Param2,yPDef_FinishSimulation,&ySrtR_tStrategyId)
#else
      OUT_SIGNAL_TYPE_tStrategyId(Param2,yPDef_FinishSimulation)
#endif
      OUT_SIGNAL2(FinishSimulation,"FinishSimulation")
      RELEASE_SIGNAL
    END_IF_OUT_SIGNAL(FinishSimulation,"FinishSimulation")

    /* Signal OrderSpeedRequest */
    IF_OUT_SIGNAL(OrderSpeedRequest,"OrderSpeedRequest")
      OUT_SIGNAL1(OrderSpeedRequest,"OrderSpeedRequest")
#ifdef OUT_SIGNAL_PAR
      OUT_SIGNAL_PAR(Param1,yPDef_OrderSpeedRequest,&ySrtR_tShipId)
#else
      OUT_SIGNAL_TYPE_tShipId(Param1,yPDef_OrderSpeedRequest)
#endif
#ifdef OUT_SIGNAL_PAR
      OUT_SIGNAL_PAR(Param2,yPDef_OrderSpeedRequest,&ySrtR_tStrategyId)
#else
      OUT_SIGNAL_TYPE_tStrategyId(Param2,yPDef_OrderSpeedRequest)
#endif
#ifdef OUT_SIGNAL_PAR
      OUT_SIGNAL_PAR(Param3,yPDef_OrderSpeedRequest,&ySrtR_tFactorAcceleration)
#else
      OUT_SIGNAL_TYPE_tFactorAcceleration(Param3,yPDef_OrderSpeedRequest)
#endif
      OUT_SIGNAL2(OrderSpeedRequest,"OrderSpeedRequest")
      RELEASE_SIGNAL
    END_IF_OUT_SIGNAL(OrderSpeedRequest,"OrderSpeedRequest")

    /* Signal OrderTurnRequest */
    IF_OUT_SIGNAL(OrderTurnRequest,"OrderTurnRequest")
      OUT_SIGNAL1(OrderTurnRequest,"OrderTurnRequest")
#ifdef OUT_SIGNAL_PAR
      OUT_SIGNAL_PAR(Param1,yPDef_OrderTurnRequest,&ySrtR_tShipId)
#else
      OUT_SIGNAL_TYPE_tShipId(Param1,yPDef_OrderTurnRequest)
#endif
#ifdef OUT_SIGNAL_PAR
      OUT_SIGNAL_PAR(Param2,yPDef_OrderTurnRequest,&ySrtR_tStrategyId)
#else
      OUT_SIGNAL_TYPE_tStrategyId(Param2,yPDef_OrderTurnRequest)
#endif
#ifdef OUT_SIGNAL_PAR
      OUT_SIGNAL_PAR(Param3,yPDef_OrderTurnRequest,&ySrtR_tHeadingChange)
#else
      OUT_SIGNAL_TYPE_tHeadingChange(Param3,yPDef_OrderTurnRequest)
#endif
      OUT_SIGNAL2(OrderTurnRequest,"OrderTurnRequest")
      RELEASE_SIGNAL
    END_IF_OUT_SIGNAL(OrderTurnRequest,"OrderTurnRequest")

    /* Signal OrderFireRequest */
    IF_OUT_SIGNAL(OrderFireRequest,"OrderFireRequest")
      OUT_SIGNAL1(OrderFireRequest,"OrderFireRequest")
#ifdef OUT_SIGNAL_PAR
      OUT_SIGNAL_PAR(Param1,yPDef_OrderFireRequest,&ySrtR_tShipId)
#else
      OUT_SIGNAL_TYPE_tShipId(Param1,yPDef_OrderFireRequest)
#endif
#ifdef OUT_SIGNAL_PAR
      OUT_SIGNAL_PAR(Param2,yPDef_OrderFireRequest,&ySrtR_tStrategyId)
#else
      OUT_SIGNAL_TYPE_tStrategyId(Param2,yPDef_OrderFireRequest)
#endif
#ifdef OUT_SIGNAL_PAR
      OUT_SIGNAL_PAR(Param3,yPDef_OrderFireRequest,&ySrtR_tNameWeaponry)
#else
      OUT_SIGNAL_TYPE_tNameWeaponry(Param3,yPDef_OrderFireRequest)
#endif
#ifdef OUT_SIGNAL_PAR
      OUT_SIGNAL_PAR(Param4,yPDef_OrderFireRequest,&ySrtR_tStringShotsList)
#else
      OUT_SIGNAL_TYPE_tStringShotsList(Param4,yPDef_OrderFireRequest)
#endif
      OUT_SIGNAL2(OrderFireRequest,"OrderFireRequest")
      RELEASE_SIGNAL
    END_IF_OUT_SIGNAL(OrderFireRequest,"OrderFireRequest")

  /* Signals going to the env via the channel StMsgInt */

    /* Signal messageLog */
    IF_OUT_SIGNAL(messageLog,"messageLog")
      OUT_SIGNAL1(messageLog,"messageLog")
#ifdef OUT_SIGNAL_PAR
      OUT_SIGNAL_PAR(Param1,yPDef_messageLog,&xSrtR_SDL_Charstring)
#else
      OUT_SIGNAL_TYPE_Charstring(Param1,yPDef_messageLog)
#endif
      OUT_SIGNAL2(messageLog,"messageLog")
      RELEASE_SIGNAL
    END_IF_OUT_SIGNAL(messageLog,"messageLog")

    /* Signal messageError */
    IF_OUT_SIGNAL(messageError,"messageError")
      OUT_SIGNAL1(messageError,"messageError")
#ifdef OUT_SIGNAL_PAR
      OUT_SIGNAL_PAR(Param1,yPDef_messageError,&xSrtR_SDL_Charstring)
#else
      OUT_SIGNAL_TYPE_Charstring(Param1,yPDef_messageError)
#endif
      OUT_SIGNAL2(messageError,"messageError")
      RELEASE_SIGNAL
    END_IF_OUT_SIGNAL(messageError,"messageError")
}


/*---+---------------------------------------------------------------
     Macros for xInEnv
-------------------------------------------------------------------*/
#ifndef IN_LOCAL_VARIABLES
#define IN_LOCAL_VARIABLES \
  xSignalNode SignalIn;
#endif

#ifndef IN_SIGNAL1
#define IN_SIGNAL1(SIGNAL_NAME, SIGNAL_NAME_STRING) \
  SignalIn = xGetSignal(SIGNAL_NAME, xNotDefPId, xEnv);
#endif

#ifndef IN_SIGNAL2
#define IN_SIGNAL2(SIGNAL_NAME, SIGNAL_NAME_STRING) \
  SDL_Output(SignalIn xSigPrioPar(xDefaultPrioSignal), (xIdNode *)0);
#endif

#ifndef IF_IN_SIGNAL
#define IF_IN_SIGNAL(SIGNAL_NAME, SIGNAL_NAME_STRING) \
  if (TEST_IF_IN_SIGNAL(SIGNAL_NAME)) {
#define END_IF_IN_SIGNAL(SIGNAL_NAME, SIGNAL_NAME_STRING) \
  }
#endif

#ifndef TEST_IF_IN_SIGNAL
#define TEST_IF_IN_SIGNAL(SIGNAL_NAME)  0
#endif

#ifndef XENV_DEC
#define XENV_DEC(stmt) stmt
#endif

#ifndef XENV_IN_START
#define XENV_IN_START
#endif

#ifndef XENV_IN_END
#define XENV_IN_END
#endif


/*---+---------------------------------------------------------------
     xInEnv  extern
-------------------------------------------------------------------*/
#ifndef XTENV
extern void xInEnv ( SDL_Time Time_for_next_event )
#else
extern SDL_Duration xInEnv ( SDL_Time Time_for_next_event )
#endif
{
  IN_LOCAL_VARIABLES

#ifdef XTRACE
#ifndef XNOXINENVTRACE
  xPrintString( "xInEnv: Called!\n");
#endif
#endif

  XENV_IN_START

  /* Signals comming from the env via the channel StSimInt */

  /* Signal InitDataComplete */
  IF_IN_SIGNAL(InitDataComplete,"InitDataComplete")
    IN_SIGNAL1(InitDataComplete,"InitDataComplete")
    IN_SIGNAL2(InitDataComplete,"InitDataComplete")
  END_IF_IN_SIGNAL(InitDataComplete,"InitDataComplete")

  /* Signal StartSimulation */
  IF_IN_SIGNAL(StartSimulation,"StartSimulation")
    IN_SIGNAL1(StartSimulation,"StartSimulation")
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param1,yPDef_StartSimulation,&xSrtR_SDL_Integer)
#else
    IN_SIGNAL_TYPE_Integer(Param1,yPDef_StartSimulation)
#endif
    IN_SIGNAL2(StartSimulation,"StartSimulation")
  END_IF_IN_SIGNAL(StartSimulation,"StartSimulation")

  /* Signal DestroyShip */
  IF_IN_SIGNAL(DestroyShip,"DestroyShip")
    IN_SIGNAL1(DestroyShip,"DestroyShip")
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param1,yPDef_DestroyShip,&ySrtR_tShipId)
#else
    IN_SIGNAL_TYPE_tShipId(Param1,yPDef_DestroyShip)
#endif
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param2,yPDef_DestroyShip,&ySrtR_tStrategyId)
#else
    IN_SIGNAL_TYPE_tStrategyId(Param2,yPDef_DestroyShip)
#endif
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param3,yPDef_DestroyShip,&ySrtR_tNameShip)
#else
    IN_SIGNAL_TYPE_tNameShip(Param3,yPDef_DestroyShip)
#endif
    IN_SIGNAL2(DestroyShip,"DestroyShip")
  END_IF_IN_SIGNAL(DestroyShip,"DestroyShip")

  /* Signal OrderSpeedResponse */
  IF_IN_SIGNAL(OrderSpeedResponse,"OrderSpeedResponse")
    IN_SIGNAL1(OrderSpeedResponse,"OrderSpeedResponse")
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param1,yPDef_OrderSpeedResponse,&ySrtR_tShipId)
#else
    IN_SIGNAL_TYPE_tShipId(Param1,yPDef_OrderSpeedResponse)
#endif
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param2,yPDef_OrderSpeedResponse,&ySrtR_tStrategyId)
#else
    IN_SIGNAL_TYPE_tStrategyId(Param2,yPDef_OrderSpeedResponse)
#endif
    IN_SIGNAL2(OrderSpeedResponse,"OrderSpeedResponse")
  END_IF_IN_SIGNAL(OrderSpeedResponse,"OrderSpeedResponse")

  /* Signal OrderSpeedReject */
  IF_IN_SIGNAL(OrderSpeedReject,"OrderSpeedReject")
    IN_SIGNAL1(OrderSpeedReject,"OrderSpeedReject")
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param1,yPDef_OrderSpeedReject,&ySrtR_tShipId)
#else
    IN_SIGNAL_TYPE_tShipId(Param1,yPDef_OrderSpeedReject)
#endif
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param2,yPDef_OrderSpeedReject,&ySrtR_tStrategyId)
#else
    IN_SIGNAL_TYPE_tStrategyId(Param2,yPDef_OrderSpeedReject)
#endif
    IN_SIGNAL2(OrderSpeedReject,"OrderSpeedReject")
  END_IF_IN_SIGNAL(OrderSpeedReject,"OrderSpeedReject")

  /* Signal OrderTurnResponse */
  IF_IN_SIGNAL(OrderTurnResponse,"OrderTurnResponse")
    IN_SIGNAL1(OrderTurnResponse,"OrderTurnResponse")
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param1,yPDef_OrderTurnResponse,&ySrtR_tShipId)
#else
    IN_SIGNAL_TYPE_tShipId(Param1,yPDef_OrderTurnResponse)
#endif
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param2,yPDef_OrderTurnResponse,&ySrtR_tStrategyId)
#else
    IN_SIGNAL_TYPE_tStrategyId(Param2,yPDef_OrderTurnResponse)
#endif
    IN_SIGNAL2(OrderTurnResponse,"OrderTurnResponse")
  END_IF_IN_SIGNAL(OrderTurnResponse,"OrderTurnResponse")

  /* Signal OrderTurnReject */
  IF_IN_SIGNAL(OrderTurnReject,"OrderTurnReject")
    IN_SIGNAL1(OrderTurnReject,"OrderTurnReject")
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param1,yPDef_OrderTurnReject,&ySrtR_tShipId)
#else
    IN_SIGNAL_TYPE_tShipId(Param1,yPDef_OrderTurnReject)
#endif
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param2,yPDef_OrderTurnReject,&ySrtR_tStrategyId)
#else
    IN_SIGNAL_TYPE_tStrategyId(Param2,yPDef_OrderTurnReject)
#endif
    IN_SIGNAL2(OrderTurnReject,"OrderTurnReject")
  END_IF_IN_SIGNAL(OrderTurnReject,"OrderTurnReject")

  /* Signal OrderFireResponse */
  IF_IN_SIGNAL(OrderFireResponse,"OrderFireResponse")
    IN_SIGNAL1(OrderFireResponse,"OrderFireResponse")
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param1,yPDef_OrderFireResponse,&ySrtR_tShipId)
#else
    IN_SIGNAL_TYPE_tShipId(Param1,yPDef_OrderFireResponse)
#endif
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param2,yPDef_OrderFireResponse,&ySrtR_tStrategyId)
#else
    IN_SIGNAL_TYPE_tStrategyId(Param2,yPDef_OrderFireResponse)
#endif
    IN_SIGNAL2(OrderFireResponse,"OrderFireResponse")
  END_IF_IN_SIGNAL(OrderFireResponse,"OrderFireResponse")

  /* Signal OrderFireReject */
  IF_IN_SIGNAL(OrderFireReject,"OrderFireReject")
    IN_SIGNAL1(OrderFireReject,"OrderFireReject")
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param1,yPDef_OrderFireReject,&ySrtR_tShipId)
#else
    IN_SIGNAL_TYPE_tShipId(Param1,yPDef_OrderFireReject)
#endif
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param2,yPDef_OrderFireReject,&ySrtR_tStrategyId)
#else
    IN_SIGNAL_TYPE_tStrategyId(Param2,yPDef_OrderFireReject)
#endif
    IN_SIGNAL2(OrderFireReject,"OrderFireReject")
  END_IF_IN_SIGNAL(OrderFireReject,"OrderFireReject")

  /* Signal ShipsCurrentState */
  IF_IN_SIGNAL(ShipsCurrentState,"ShipsCurrentState")
    IN_SIGNAL1(ShipsCurrentState,"ShipsCurrentState")
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param1,yPDef_ShipsCurrentState,&ySrtR_tStrategyId)
#else
    IN_SIGNAL_TYPE_tStrategyId(Param1,yPDef_ShipsCurrentState)
#endif
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param2,yPDef_ShipsCurrentState,&ySrtR_tStringShipCurrentState)
#else
    IN_SIGNAL_TYPE_tStringShipCurrentState(Param2,yPDef_ShipsCurrentState)
#endif
    IN_SIGNAL2(ShipsCurrentState,"ShipsCurrentState")
  END_IF_IN_SIGNAL(ShipsCurrentState,"ShipsCurrentState")

  /* Signal VisibleShip */
  IF_IN_SIGNAL(VisibleShip,"VisibleShip")
    IN_SIGNAL1(VisibleShip,"VisibleShip")
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param1,yPDef_VisibleShip,&ySrtR_tStrategyId)
#else
    IN_SIGNAL_TYPE_tStrategyId(Param1,yPDef_VisibleShip)
#endif
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param2,yPDef_VisibleShip,&ySrtR_tStringEnemyShip)
#else
    IN_SIGNAL_TYPE_tStringEnemyShip(Param2,yPDef_VisibleShip)
#endif
    IN_SIGNAL2(VisibleShip,"VisibleShip")
  END_IF_IN_SIGNAL(VisibleShip,"VisibleShip")

  /* Signal StrategyVictory */
  IF_IN_SIGNAL(StrategyVictory,"StrategyVictory")
    IN_SIGNAL1(StrategyVictory,"StrategyVictory")
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param1,yPDef_StrategyVictory,&ySrtR_tStrategyId)
#else
    IN_SIGNAL_TYPE_tStrategyId(Param1,yPDef_StrategyVictory)
#endif
    IN_SIGNAL2(StrategyVictory,"StrategyVictory")
  END_IF_IN_SIGNAL(StrategyVictory,"StrategyVictory")

  /* Signal StrategyLose */
  IF_IN_SIGNAL(StrategyLose,"StrategyLose")
    IN_SIGNAL1(StrategyLose,"StrategyLose")
#ifdef IN_SIGNAL_PAR
    IN_SIGNAL_PAR(Param1,yPDef_StrategyLose,&ySrtR_tStrategyId)
#else
    IN_SIGNAL_TYPE_tStrategyId(Param1,yPDef_StrategyLose)
#endif
    IN_SIGNAL2(StrategyLose,"StrategyLose")
  END_IF_IN_SIGNAL(StrategyLose,"StrategyLose")

  /* Signal resetStrategy */
  IF_IN_SIGNAL(resetStrategy,"resetStrategy")
    IN_SIGNAL1(resetStrategy,"resetStrategy")
    IN_SIGNAL2(resetStrategy,"resetStrategy")
  END_IF_IN_SIGNAL(resetStrategy,"resetStrategy")

  XENV_IN_END

#ifdef XTENV
  return SDL_Time_Lit((xint32)0,(xint32)0);
#endif

}
