
/* SKELETON for env functions */
/* Program generated by Cbasic 6.2.0 9879 */
#define XSCT_CBASIC

#define SCT_VERSION_6_2
#include "scttypes.h"
#ifdef XINCLUDE_HS_FILE
#include "BattleShips.hs"
#endif
#ifdef XENV_INC
#include XENV_INC
#endif
#include "BattleShips.ifc"
#include "cucf.h"
#include "BattleShips_cod.h"
#include "cucf.h"

#ifndef XENV_BUF
#define XENV_BUF(stmt) stmt
#endif

#ifndef XENV_STATIC_VARS
#define XENV_STATIC_VARS static tBuffer Buf = 0;
#endif
XENV_STATIC_VARS


#ifndef XNOGLOBALNODENUMBER
/*---+---------------------------------------------------------------
     xGlobalNodeNumber  extern
-------------------------------------------------------------------*/
#ifndef XENV_NODENUMBER
#define XENV_NODENUMBER return 1;
#endif

extern int xGlobalNodeNumber(void)
{
  /* Assign a unique global system Id to each SDL system in a cluster of systems. */
  XENV_NODENUMBER
}
#endif


#ifndef XNOINITENV
/*---+---------------------------------------------------------------
     xInitEnv  extern
-------------------------------------------------------------------*/
#ifndef XENV_INIT
#define XENV_INIT BufInitBuf(Buf, bms_SmallBuffer);
#endif

extern void xInitEnv(void)
{
  /* Code to initialize your SDL-system environment may be inserted here */
  XENV_INIT

#ifdef XTRACE
  xPrintString("xInitEnv called\n");
#endif
}
#endif


#ifndef XNOCLOSEENV
/*---+---------------------------------------------------------------
     xCloseEnv  extern
-------------------------------------------------------------------*/
#ifndef XENV_CLOSE
#define XENV_CLOSE BufCloseBuf(Buf);
#endif

extern void xCloseEnv(void)
{
  /* Code to bring down the environment in a controlled manner
     may be inserted here. */
  XENV_CLOSE

#ifdef XTRACE
  xPrintString("xCloseEnv called\n");
#endif
}
#endif


/*---+---------------------------------------------------------------
     Macros for xOutEnv
-------------------------------------------------------------------*/
#ifndef OUT_LOCAL_VARIABLES
#define OUT_LOCAL_VARIABLES
#endif

#ifndef IF_OUT_SIGNAL
#define IF_OUT_SIGNAL(SIGNAL_NAME, SIGNAL_NAME_STRING) \
  if (((*SignalOut)->NameNode) == SIGNAL_NAME) {
#define END_IF_OUT_SIGNAL(SIGNAL_NAME, SIGNAL_NAME_STRING) \
  }
#endif

#ifndef OUT_SIGNAL1
#define OUT_SIGNAL1(SIGNAL_NAME, SIGNAL_NAME_STRING)
#endif

#ifndef OUT_SIGNAL2
#define OUT_SIGNAL2(SIGNAL_NAME, SIGNAL_NAME_STRING)
#endif

#ifndef XENV_ENC
#define XENV_ENC(stmt) stmt
#endif

#ifndef XENV_OUT_START
#define XENV_OUT_START
#endif

#ifndef RELEASE_SIGNAL
#define RELEASE_SIGNAL   xReleaseSignal(SignalOut); return;
#endif


/*---+---------------------------------------------------------------
     xOutEnv  extern
-------------------------------------------------------------------*/
extern void xOutEnv( xSignalNode *SignalOut )
{
  OUT_LOCAL_VARIABLES

#ifdef XTRACE
#ifdef XIDNAMES
  char  Temp[100];
  sprintf(Temp, "xOutEnv:  %s has been received by env\n",
          (*SignalOut)->NameNode->Name );
  xPrintString(Temp);
#else
  xPrintString("xOutEnv:  One signal has been received by env\n");
#endif
#endif

  XENV_OUT_START


  /* Signals going to the env via the channel St2MsgInt */

    /* Signal messageLog */
    IF_OUT_SIGNAL(sig_BasicTypes_messageLog,"messageLog")
      OUT_SIGNAL1(sig_BasicTypes_messageLog,"messageLog")
      XENV_BUF(BufInitWriteMode(Buf));
      XENV_ENC(ASCIIEncode(Buf, (tSDLTypeInfo *)&ySDL_SDL_Charstring,
        (void *)&((yPDef_sig_BasicTypes_messageLog *)(*SignalOut))->Param1));
      OUT_SIGNAL2(sig_BasicTypes_messageLog,"messageLog")
      XENV_BUF(BufCloseWriteMode(Buf));
      RELEASE_SIGNAL
    END_IF_OUT_SIGNAL(sig_BasicTypes_messageLog,"messageLog")

    /* Signal messageError */
    IF_OUT_SIGNAL(sig_BasicTypes_messageError,"messageError")
      OUT_SIGNAL1(sig_BasicTypes_messageError,"messageError")
      XENV_BUF(BufInitWriteMode(Buf));
      XENV_ENC(ASCIIEncode(Buf, (tSDLTypeInfo *)&ySDL_SDL_Charstring,
        (void *)&((yPDef_sig_BasicTypes_messageError *)(*SignalOut))->Param1));
      OUT_SIGNAL2(sig_BasicTypes_messageError,"messageError")
      XENV_BUF(BufCloseWriteMode(Buf));
      RELEASE_SIGNAL
    END_IF_OUT_SIGNAL(sig_BasicTypes_messageError,"messageError")

  /* Signals going to the env via the channel SimMsgInt */

    /* Signal messageLog */
    IF_OUT_SIGNAL(sig_BasicTypes_messageLog,"messageLog")
      OUT_SIGNAL1(sig_BasicTypes_messageLog,"messageLog")
      XENV_BUF(BufInitWriteMode(Buf));
      XENV_ENC(ASCIIEncode(Buf, (tSDLTypeInfo *)&ySDL_SDL_Charstring,
        (void *)&((yPDef_sig_BasicTypes_messageLog *)(*SignalOut))->Param1));
      OUT_SIGNAL2(sig_BasicTypes_messageLog,"messageLog")
      XENV_BUF(BufCloseWriteMode(Buf));
      RELEASE_SIGNAL
    END_IF_OUT_SIGNAL(sig_BasicTypes_messageLog,"messageLog")

    /* Signal messageError */
    IF_OUT_SIGNAL(sig_BasicTypes_messageError,"messageError")
      OUT_SIGNAL1(sig_BasicTypes_messageError,"messageError")
      XENV_BUF(BufInitWriteMode(Buf));
      XENV_ENC(ASCIIEncode(Buf, (tSDLTypeInfo *)&ySDL_SDL_Charstring,
        (void *)&((yPDef_sig_BasicTypes_messageError *)(*SignalOut))->Param1));
      OUT_SIGNAL2(sig_BasicTypes_messageError,"messageError")
      XENV_BUF(BufCloseWriteMode(Buf));
      RELEASE_SIGNAL
    END_IF_OUT_SIGNAL(sig_BasicTypes_messageError,"messageError")

  /* Signals going to the env via the channel St1MsgInt */

    /* Signal messageLog */
    IF_OUT_SIGNAL(sig_BasicTypes_messageLog,"messageLog")
      OUT_SIGNAL1(sig_BasicTypes_messageLog,"messageLog")
      XENV_BUF(BufInitWriteMode(Buf));
      XENV_ENC(ASCIIEncode(Buf, (tSDLTypeInfo *)&ySDL_SDL_Charstring,
        (void *)&((yPDef_sig_BasicTypes_messageLog *)(*SignalOut))->Param1));
      OUT_SIGNAL2(sig_BasicTypes_messageLog,"messageLog")
      XENV_BUF(BufCloseWriteMode(Buf));
      RELEASE_SIGNAL
    END_IF_OUT_SIGNAL(sig_BasicTypes_messageLog,"messageLog")

    /* Signal messageError */
    IF_OUT_SIGNAL(sig_BasicTypes_messageError,"messageError")
      OUT_SIGNAL1(sig_BasicTypes_messageError,"messageError")
      XENV_BUF(BufInitWriteMode(Buf));
      XENV_ENC(ASCIIEncode(Buf, (tSDLTypeInfo *)&ySDL_SDL_Charstring,
        (void *)&((yPDef_sig_BasicTypes_messageError *)(*SignalOut))->Param1));
      OUT_SIGNAL2(sig_BasicTypes_messageError,"messageError")
      XENV_BUF(BufCloseWriteMode(Buf));
      RELEASE_SIGNAL
    END_IF_OUT_SIGNAL(sig_BasicTypes_messageError,"messageError")
}


/*---+---------------------------------------------------------------
     Macros for xInEnv
-------------------------------------------------------------------*/
#ifndef IN_LOCAL_VARIABLES
#define IN_LOCAL_VARIABLES \
  xSignalNode SignalIn;
#endif

#ifndef IN_SIGNAL1
#define IN_SIGNAL1(SIGNAL_NAME, SIGNAL_NAME_STRING) \
  SignalIn = xGetSignal(SIGNAL_NAME, xNotDefPId, xEnv);
#endif

#ifndef IN_SIGNAL2
#define IN_SIGNAL2(SIGNAL_NAME, SIGNAL_NAME_STRING) \
  SDL_Output(SignalIn xSigPrioPar(xDefaultPrioSignal), (xIdNode *)0);
#endif

#ifndef IF_IN_SIGNAL
#define IF_IN_SIGNAL(SIGNAL_NAME, SIGNAL_NAME_STRING) \
  if (TEST_IF_IN_SIGNAL(SIGNAL_NAME)) {
#define END_IF_IN_SIGNAL(SIGNAL_NAME, SIGNAL_NAME_STRING) \
  }
#endif

#ifndef TEST_IF_IN_SIGNAL
#define TEST_IF_IN_SIGNAL(SIGNAL_NAME)  0
#endif

#ifndef XENV_DEC
#define XENV_DEC(stmt) stmt
#endif

#ifndef XENV_IN_START
#define XENV_IN_START
#endif

#ifndef XENV_IN_END
#define XENV_IN_END
#endif


/*---+---------------------------------------------------------------
     xInEnv  extern
-------------------------------------------------------------------*/
#ifndef XTENV
extern void xInEnv ( SDL_Time Time_for_next_event )
#else
extern SDL_Duration xInEnv ( SDL_Time Time_for_next_event )
#endif
{
  IN_LOCAL_VARIABLES

#ifdef XTRACE
#ifndef XNOXINENVTRACE
  xPrintString( "xInEnv: Called!\n");
#endif
#endif

  XENV_IN_START

  XENV_IN_END

#ifdef XTENV
  return SDL_Time_Lit((xint32)0,(xint32)0);
#endif

}
